var flickr=function(){function FlickrAPI(_param,_callback){this.data;this.param;this.callback;this._initialize.apply(this,arguments)}FlickrAPI.obj2query=function(obj){var list=[];for(var key in obj){var k=encodeURIComponent(key);var v=encodeURIComponent(obj[key]);list[list.length]=k+"="+v}var query=list.join("&");return query};FlickrAPI.prototype={load:function(){this._photoSearch()},_initialize:function(_param,_callback){this.data=new Array;this.param=_param;this.callback=_callback},_photoSearch:function(){var _this=
this;$.ajax({type:"GET",url:"http://www.flickr.com/services/rest/?"+FlickrAPI.obj2query(this.param),dataType:"jsonp",jsonp:"jsoncallback",success:function(json){_this.callback(_this._jsonFlickrApi(json))}})},_jsonFlickrApi:function(data){if(!data)return;if(!data.photos)return;var list=data.photos.photo;if(!list)return;if(!list.length)return;var _l=new Array;for(var i=0;i<list.length;i++){var photo=list[i];_l.push(new imageData(photo))}return _l}};return FlickrAPI}();